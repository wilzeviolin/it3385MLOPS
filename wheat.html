<!DOCTYPE html>
<html>
<head>
    <title>Wheat Type Classifier</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #336699;
            text-align: center;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="number"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .range-info {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e9f7ef;
            border-radius: 4px;
            display: {{ 'block' if prediction is not none else 'none' }};
        }
        .error {
            margin-top: 20px;
            padding: 15px;
            background-color: #ffdddd;
            border-radius: 4px;
            display: {{ 'block' if error else 'none' }};
        }
        .wheat-types {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #336699;
        }
        .model-status {
            text-align: center;
            padding: 8px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-weight: bold;
        }
        .status-ok {
            background-color: #d4edda;
            color: #155724;
        }
        .status-error {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>Wheat Type Classifier</h1>
    
    <div class="model-status {{ 'status-ok' if model_loaded else 'status-error' }}">
        Model Status: {{ 'Loaded Successfully' if model_loaded else 'Error Loading Model' }}
    </div>

    <div class="container">
        <form action="/" method="post">
            <div class="form-group">
                <label for="area">Area:</label>
                <input type="number" id="area" name="area" step="0.01" required 
                       value="{{ request.form.get('area', '') }}">
                <div class="range-info">Suggested range: 10 to 22</div>
            </div>

            <div class="form-group">
                <label for="perimeter">Perimeter:</label>
                <input type="number" id="perimeter" name="perimeter" step="0.01" required 
                       value="{{ request.form.get('perimeter', '') }}">
                <div class="range-info">Suggested range: 12 to 18</div>
            </div>

            <div class="form-group">
                <label for="compactness">Compactness:</label>
                <input type="number" id="compactness" name="compactness" step="0.0001" required 
                       value="{{ request.form.get('compactness', '') }}">
                <div class="range-info">Suggested range: 0.8 to 0.92</div>
            </div>

            <div class="form-group">
                <label for="length">Length:</label>
                <input type="number" id="length" name="length" step="0.01" required 
                       value="{{ request.form.get('length', '') }}">
                <div class="range-info">Suggested range: 4.9 to 6.7</div>
            </div>

            <div class="form-group">
                <label for="width">Width:</label>
                <input type="number" id="width" name="width" step="0.01" required 
                       value="{{ request.form.get('width', '') }}">
                <div class="range-info">Suggested range: 2.6 to 4.1</div>
            </div>

            <div class="form-group">
                <label for="asymmetry_coeff">Asymmetry Coefficient:</label>
                <input type="number" id="asymmetry_coeff" name="asymmetry_coeff" step="0.01" required 
                       value="{{ request.form.get('asymmetry_coeff', '') }}">
                <div class="range-info">Suggested range: 0.7 to 8.5</div>
            </div>

            <div class="form-group">
                <label for="groove">Groove:</label>
                <input type="number" id="groove" name="groove" step="0.01" required 
                       value="{{ request.form.get('groove', '') }}">
                <div class="range-info">Suggested range: 4.5 to 6.6</div>
            </div>

            <button type="submit" {{ 'disabled' if not model_loaded else '' }}>
                {{ 'Model Not Loaded - Please Fix' if not model_loaded else 'Predict Wheat Type' }}
            </button>
        </form>
        
        {% if prediction is not none %}
        <div class="result">
            <h3>Prediction Result:</h3>
            <p><strong>Predicted Wheat Type: {{ prediction }}</strong></p>
            {% if prediction == 1 %}
                <p>Kama wheat</p>
            {% elif prediction == 2 %}
                <p>Rosa wheat</p>
            {% elif prediction == 3 %}
                <p>Canadian wheat</p>
            {% endif %}
        </div>
        {% endif %}
        
        {% if error %}
        <div class="error">
            <h3>Error:</h3>
            <p>{{ error }}</p>
        </div>
        {% endif %}
        
        <div class="wheat-types">
            <h3>Wheat Type Reference:</h3>
            <p><strong>Type 1: Kama wheat</strong></p>
            <p>Kama wheat is typically grown in temperate climates and is known for its high protein content and excellent baking quality. It is commonly used in making bread and other baked goods.</p>
            
            <p><strong>Type 2: Rosa wheat</strong></p>
            <p>Rosa wheat is characterized by its lighter color and high yield. It is often used for making pastries and cakes due to its delicate texture.</p>

            <p><strong>Type 3: Canadian wheat</strong></p>
            <p>Canadian wheat is widely recognized for its strong gluten content, making it ideal for bread and pasta production. It is highly valued for its versatility and high milling yield.</p>
        </div>
    </div>
</body>
</html>
